{"ast":null,"code":"var _jsxFileName = \"/Users/midhilkari/Desktop/Deakin-Masters-IT/Trimester-3/SIT764-Project_A&D/Weather_Update/Weather_Update/src/components/weather/weather.component.jsx\";\nimport React from 'react'; //import App from './App.js';\n\nimport { func } from 'prop-types';\n\nclass Weather extends React.Component {\n  constructor() {\n    super();\n\n    this.getWeather = async e => {\n      e.preventDefault();\n      const city = e.target.elements.city.value;\n      const country = e.target.elements.country.value;\n\n      if (city && country) {\n        console.log(\"calling api\");\n        const api_call = await fetch('http://api.openweathermap.org/data/2.5/find/?q=' + city + ',' + country + '&appid=62a01dc6786ac94ea6ffb947cab0d995');\n        console.log(\"fetched api response\");\n        const response = await api_call.json();\n        console.log(response);\n        const weatherIcon = await this.get_weatherIcon(response.list[0].weather[0].id);\n        console.log({\n          weatherIcon\n        });\n        this.setState({\n          city: response.list[0].name + ' ' + response.list[0].sys.country,\n          celsius: this.calCelsius(response.list[0].main.temp),\n          temp_max: this.calCelsius(response.list[0].main.temp_max),\n          temp_min: this.calCelsius(response.list[0].main.temp_min),\n          description: response.list[0].weather[0].description,\n          icon: weatherIcon\n        });\n      } else {\n        this.setState({\n          error: true\n        });\n      }\n    };\n\n    this.state = {\n      city: undefined,\n      country: undefined,\n      icon: undefined,\n      main: undefined,\n      celsius: undefined,\n      temp_max: undefined,\n      temp_min: undefined,\n      description: \"\",\n      error: false\n    };\n    this.weatherIcon = {\n      Thunderstorm: \"wi-thunderstorm\",\n      Drizzle: \"wi-sleet\",\n      Rain: \"wi-storm-showers\",\n      Snow: \"wi-snow\",\n      Atmosphere: \"wi-fog\",\n      Clear: \"wi-day-sunny\",\n      Clouds: \"wi-day-fog\"\n    };\n  }\n\n  calCelsius(temp) {\n    console.log(\"got temp\");\n    let cell = Math.floor(temp - 273.15);\n    console.log(\"converted to celsius\");\n    return cell;\n  }\n\n  get_weatherIcon(rangeId) {\n    console.log(rangeId);\n    let weatherIcon = null;\n\n    switch (true) {\n      case rangeId >= 200 && rangeId <= 232:\n        weatherIcon = this.weatherIcon.Thunderstorm;\n        break;\n\n      case rangeId >= 300 && rangeId <= 321:\n        weatherIcon = this.weatherIcon.Drizzle;\n        break;\n\n      case rangeId >= 500 && rangeId <= 532:\n        weatherIcon = this.weatherIcon.Rain;\n        break;\n\n      case rangeId >= 600 && rangeId <= 622:\n        weatherIcon = this.weatherIcon.Snow;\n        break;\n\n      case rangeId >= 701 && rangeId <= 781:\n        weatherIcon = this.weatherIcon.Atmosphere;\n        break;\n\n      case rangeId === 800:\n        weatherIcon = this.weatherIcon.Clear;\n        break;\n\n      case rangeId >= 800 && rangeId <= 804:\n        console.log(rangeId);\n        weatherIcon = this.weatherIcon.Clouds;\n        console.log({\n          state: this.state\n        });\n        break;\n\n      default:\n        weatherIcon = this.weatherIcon.Clear;\n    }\n\n    return weatherIcon;\n  }\n\n}\n\nconst WeatherForm = props => {\n  console.log({\n    props\n  });\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"cards pt-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, props.city), React.createElement(\"h5\", {\n    className: \"py-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: `wi ${props.icon} display-1`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), props.temp_celsius ? React.createElement(\"h1\", {\n    className: \"py-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, props.temp_celsius, \"\\xB0\") : null, minmaxTemp(props.temp_min, props.temp_max), React.createElement(\"h4\", {\n    className: \"py-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, props.description)));\n};\n\nfunction minmaxTemp(min, max) {\n  if (min && max) {\n    return React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"px-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, min, \"\\xB0\"), React.createElement(\"span\", {\n      className: \"px-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, max, \"\\xB0\"));\n  }\n}\n\nexport default Weather;","map":{"version":3,"sources":["/Users/midhilkari/Desktop/Deakin-Masters-IT/Trimester-3/SIT764-Project_A&D/Weather_Update/Weather_Update/src/components/weather/weather.component.jsx"],"names":["React","func","Weather","Component","constructor","getWeather","e","preventDefault","city","target","elements","value","country","console","log","api_call","fetch","response","json","weatherIcon","get_weatherIcon","list","weather","id","setState","name","sys","celsius","calCelsius","main","temp","temp_max","temp_min","description","icon","error","state","undefined","Thunderstorm","Drizzle","Rain","Snow","Atmosphere","Clear","Clouds","cell","Math","floor","rangeId","WeatherForm","props","temp_celsius","minmaxTemp","min","max"],"mappings":"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","sourcesContent":["import React from 'react'\n//import App from './App.js';\nimport { func } from 'prop-types';\n\n\nclass Weather extends React.Component{\n    constructor(){\n      super();\n      this.state={\n        city: undefined,\n        country: undefined,\n        icon: undefined,\n        main: undefined,\n        celsius: undefined,\n        temp_max: undefined,\n        temp_min: undefined,\n        description : \"\",\n        error : false\n      };\n      \n  \n      this.weatherIcon= {\n        Thunderstorm:\"wi-thunderstorm\",\n        Drizzle:\"wi-sleet\",\n        Rain:\"wi-storm-showers\",\n        Snow:\"wi-snow\",\n        Atmosphere:\"wi-fog\",\n        Clear:\"wi-day-sunny\",\n        Clouds:\"wi-day-fog\",\n      };\n    }\n  \n    calCelsius(temp){\n      console.log(\"got temp\");\n      let cell = Math.floor(temp - 273.15)\n      console.log(\"converted to celsius\");\n      return cell;\n    }\n  \n    get_weatherIcon(rangeId){\n      console.log(rangeId);\n      let weatherIcon = null;\n      switch(true){\n        case rangeId >= 200 && rangeId <= 232:\n          weatherIcon = this.weatherIcon.Thunderstorm\n          break;\n        case rangeId >= 300 && rangeId <= 321:\n          weatherIcon = this.weatherIcon.Drizzle\n          break;\n        case rangeId >= 500 && rangeId <= 532:\n          weatherIcon = this.weatherIcon.Rain\n          break;\n        case rangeId >= 600 && rangeId <= 622:\n          weatherIcon = this.weatherIcon.Snow\n          break;\n        case rangeId >= 701 && rangeId <= 781:\n          weatherIcon = this.weatherIcon.Atmosphere\n          break;\n        case rangeId === 800:\n          weatherIcon = this.weatherIcon.Clear\n          break;\n        case rangeId >= 800 && rangeId <= 804:\n          console.log(rangeId);\n          weatherIcon = this.weatherIcon.Clouds\n          console.log({state: this.state})\n          break;\n        default:\n          weatherIcon = this.weatherIcon.Clear\n      }\n      return weatherIcon;\n    }\n  \n    \n    getWeather = async(e)=>{\n  \n      e.preventDefault();\n  \n      const city = e.target.elements.city.value;\n      const country = e.target.elements.country.value;\n  \n      if(city && country){\n        console.log(\"calling api\")\n        const api_call = await fetch('http://api.openweathermap.org/data/2.5/find/?q='+city+','+country+'&appid=62a01dc6786ac94ea6ffb947cab0d995');\n        console.log(\"fetched api response\")\n        const response = await api_call.json();\n        console.log(response);\n        \n        const weatherIcon = await this.get_weatherIcon(response.list[0].weather[0].id);\n        console.log({weatherIcon})\n        this.setState({\n          city:response.list[0].name + ' '+response.list[0].sys.country,\n          celsius: this.calCelsius(response.list[0].main.temp),\n          temp_max: this.calCelsius(response.list[0].main.temp_max),\n          temp_min: this.calCelsius(response.list[0].main.temp_min),\n          description: response.list[0].weather[0].description,\n          icon: weatherIcon\n        });\n      }else{\n        this.setState({error:true});\n      } \n    }\n}\n  \nconst WeatherForm = (props) => {\n    console.log({props})\n    return(\n        <div className=\"container\">\n            <div className=\"cards pt-4\">\n                <h1>\n                    {props.city}\n                </h1>\n\n                <h5 className=\"py-4\"><i className={`wi ${props.icon} display-1`}></i></h5>\n                                    \n                {props.temp_celsius? (<h1 className=\"py-2\">{props.temp_celsius}&deg;</h1>):null}\n                                \n                {minmaxTemp(props.temp_min,props.temp_max)}\n                \n                \n\n                <h4 className=\"py-3\">{props.description}</h4>\n            </div>\n        </div>\n    );\n}\n\nfunction minmaxTemp(min,max){\n    if(min && max){\n        return(\n            <h3>\n                <span className=\"px-4\">{min}&deg;</span>\n                <span className=\"px-4\">{max}&deg;</span>\n            </h3>   \n        );\n        \n    }\n}\nexport default Weather;"]},"metadata":{},"sourceType":"module"}